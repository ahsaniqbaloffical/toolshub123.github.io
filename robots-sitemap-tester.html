<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Robots.txt & Sitemap Tester | Toolshub123</title>
  <meta name="description" content="Validate robots.txt and sitemap files for SEO optimization.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {font-family:'Syne',sans-serif;margin:0;background:#f4f6f8;color:#333;}
    header,footer {background:#0A192F;color:#fff;padding:15px;text-align:center;}
    nav a {color:#fff;margin:0 10px;text-decoration:none;font-weight:600;}
    nav a.active {color:#00BFA6;}
    .hero {text-align:center;padding:30px;}
    .section {max-width:800px;margin:20px auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.1);}
    input,button {padding:10px;border-radius:6px;border:1px solid #ccc;}
    button {background:#00BFA6;color:#fff;border:none;cursor:pointer;font-weight:600;}
    ul {padding-left:20px;}
    canvas {margin-top:15px;}
  </style>
</head>
<body>
<header>
  <h1>Toolshub123</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="SEO tools.html" class="active">SEO Tools</a>
    <a href="finance tools.html">Finance Tools</a>
    <a href="utilitytools.html">Utility Tools</a>
    <a href="health tools.html">Health Tools</a>
  </nav>
</header>

<div class="hero">
  <h2>Robots.txt & Sitemap Tester</h2>
  <p>Quickly check your robots.txt and sitemap for SEO issues.</p>
</div>

<div class="section">
  <input id="siteUrl" placeholder="https://example.com" style="width:70%">
  <button onclick="testRobotsSitemap()">Test</button>

  <div id="testResults" style="display:none;margin-top:20px;">
    <p><strong>Robots.txt:</strong> <span id="robotsStatus"></span></p>
    <p><strong>Sitemap:</strong> <span id="sitemapStatus"></span></p>
    <h3>Recommendations</h3><ul id="recommendations"></ul>
    <h3>Sitemap URL Checks</h3><ul id="urlChecks"></ul>
    <canvas id="statusChart"></canvas>
    <button onclick="downloadReport()">Download CSV</button>
  </div>
</div>

<footer>
  <p>&copy; 2026 Toolshub123 | Built with ❤️ by Ahsan</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
async function testRobotsSitemap(){
  const site=document.getElementById("siteUrl").value.trim().replace(/\/+$/,'');
  if(!site) return alert("Enter a site URL");
  const proxy="https://toolshub123.com/proxy.php?url=";
  let recs=[],robotsStatus="Not found",sitemapStatus="Not found",urlChecks=[],counts={ok:0,redirect:0,error:0};

  // Robots.txt
  try{
    const r=await fetch(proxy+encodeURIComponent(site+"/robots.txt"));
    if(r.ok){
      const txt=await r.text(); robotsStatus="Found";
      if(!/sitemap\s*:/i.test(txt)) recs.push("⚠️ Add Sitemap directive.");
      if(/crawl-delay/i.test(txt)) recs.push("⚠️ Crawl-delay may slow indexing.");
      ["favicon.ico",".css",".js",".png",".jpg",".jpeg"].forEach(res=>{
        if(txt.includes("Disallow: /"+res)) recs.push("⚠️ Blocked resource: "+res);
      });
    }
  }catch{recs.push("❌ Could not fetch robots.txt.");}

  // Sitemap.xml
  try{
    const s=await fetch(proxy+encodeURIComponent(site+"/sitemap.xml"));
    if(s.ok){
      const txt=await s.text(); sitemapStatus="Found";
      const xml=new DOMParser().parseFromString(txt,"application/xml");
      let urls=[...xml.getElementsByTagNameNS("*","loc"),...xml.getElementsByTagName("loc")].map(el=>el.textContent.trim());
      if(urls.length===0) recs.push("⚠️ No <loc> entries found.");
      else{
        const seen=new Set();
        for(let u of urls.slice(0,10)){
          if(seen.has(u.toLowerCase())) recs.push("⚠️ Duplicate URL: "+u);
          seen.add(u.toLowerCase());
          if(/[A-Z]/.test(u)) recs.push("⚠️ Mixed-case URL: "+u);
          try{
            const resp=await fetch(proxy+encodeURIComponent(u));
            urlChecks.push(u+" → "+resp.status);
            if(resp.status===200) counts.ok++;
            else if(resp.status>=300&&resp.status<400){counts.redirect++; recs.push("⚠️ Redirect: "+u);}
            else{counts.error++; recs.push("❌ Error URL: "+u);}
          }catch{counts.error++; recs.push("❌ Could not fetch: "+u);}
        }
      }
    }
  }catch{recs.push("❌ Could not fetch sitemap.xml.");}

  // Display
  document.getElementById("robotsStatus").textContent=robotsStatus;
  document.getElementById("sitemapStatus").textContent=sitemapStatus;
  document.getElementById("recommendations").innerHTML=recs.map(r=>"<li>"+r+"</li>").join("")||"<li>No issues found.</li>";
  document.getElementById("urlChecks").innerHTML=urlChecks.map(r=>"<li>"+r+"</li>").join("")||"<li>No URLs checked.</li>";
  document.getElementById("testResults").style.display="block";

  new Chart(document.getElementById("statusChart"),{
    type:'bar',
    data:{labels:['200 OK','Redirects','Errors'],datasets:[{data:[counts.ok,counts.redirect,counts.error],backgroundColor:['#28a745','#ffc107','#dc3545']}]},
    options:{plugins:{legend:{display:false},title:{display:true,text:'Sitemap URL Status'}}}
  });

  window.__report={robotsStatus,sitemapStatus,recs,urlChecks,counts};
}

function downloadReport(){
  const d=window.__report; if(!d) return alert("Run the test first.");
  const rows=[["Robots.txt",d.robotsStatus],["Sitemap",d.sitemapStatus],["Recommendations",d.recs.join(" | ")],["URL Checks",d.urlChecks.join(" | ")],["200 OK",d.counts.ok],["Redirects",d.counts.redirect],["Errors",d.counts.error]];
  const csv="Field,Value\n"+rows.map(r=>r.map(v=>`"${String(v).replace(/"/g,'""')}"`).join(",")).join("\n");
  const blob=new Blob([csv],{type:"text/csv"}),url=URL.createObjectURL(blob),a=document.createElement("a");
  a.href=url;a.download="robots-sitemap-report.csv";document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);
}
</script>
</body>
</html>
