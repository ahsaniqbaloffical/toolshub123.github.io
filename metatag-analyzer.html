<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meta Tag Analyzer | Toolshub123</title>
  <meta name="description" content="Free Meta Tag Analyzer tool to check your website's SEO health. Analyze titles, meta descriptions, Open Graph tags, and SERP pixel widths instantly.">
  <link rel="stylesheet" href="meta-tag-tool.css">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="logo.png" type="image/png">
</head>
<body id="page-body">

  <header>
    <img src="logo.png" alt="Toolshub123 Logo" class="logo">
    <nav class="header-nav">
      <a href="index.html">Home</a>
      <a href="SEO%20tools.html" class="active">SEO Tools</a>
      <a href="finance%20tools.html">Finance Tools</a>
      <a href="utilitytools.html">Utility Tools</a>
      <a href="health%20tools.html">Health Tools</a>
      <button class="dark-mode-toggle" id="dark-mode-toggle">üåô Dark Mode</button>
    </nav>
  </header>

  <section class="seo-hero">
    <div class="hero-content">
      <h1>Meta Tag Analyzer</h1>
      <p>Analyze your website‚Äôs meta tags for professional SEO optimization. Check pixel widths for Google, Bing, and Social Media sharing.</p>
    </div>
  </section>

 <main class="seo-container">
    <div class="tool-card">
        <h2>Analyze Your Meta Tags</h2>
        <p style="margin-bottom: 20px;">Paste your HTML source code below (everything between &lt;head&gt; and &lt;/head&gt;) and click Analyze.</p>

        <textarea id="htmlInput" placeholder="Paste your HTML code here..." class="tool-textarea"></textarea>

        <button onclick="analyzeMetaTags()" class="tool-btn-main">Analyze Meta Data</button>

        <div id="results" class="results-container" style="display:none;">
            <h3 class="results-title">Analysis Results</h3>
            
            <div id="social-img-preview" class="social-preview-box" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.03); border-radius: 8px;"></div>

            <div class="serp-section">
                <h4>Google Search Preview</h4>
                <div class="serp-preview google">
                    <p id="googleTitle" class="serp-title">Parameter Not Found</p>
                    <p id="googleUrl" class="serp-url">https://your-site.com</p>
                    <p id="googleDescription" class="serp-description">Parameter Not Found</p>
                </div>
            </div>

            <div class="data-grid">
                <div class="data-item"><strong>Title Text:</strong> <span id="titleResult">Parameter Not Found</span></div>
                <div class="data-item"><strong>Title Character Count:</strong> <span id="titleChars">0</span></div>
                <div class="data-item"><strong>Title Pixel Width:</strong> <span id="titlePixels">0px</span></div>
                
                <hr style="grid-column: 1 / -1; border: 0; border-top: 1px solid rgba(0,0,0,0.1); margin: 10px 0;">

                <div class="data-item"><strong>Meta Description:</strong> <span id="descriptionResult">Parameter Not Found</span></div>
                <div class="data-item"><strong>Description Character Count:</strong> <span id="descriptionChars">0</span></div>
                <div class="data-item"><strong>Description Pixel Width:</strong> <span id="descriptionPixels">0px</span></div>
                
                <hr style="grid-column: 1 / -1; border: 0; border-top: 1px solid rgba(0,0,0,0.1); margin: 10px 0;">

                <div class="data-item"><strong>Duplicate Tags:</strong> <span id="duplicateResult">‚Äî</span></div>
                <div class="data-item"><strong>Heading Structure:</strong> <span id="headingResult">‚Äî</span></div>
                <div class="data-item"><strong>Canonical URL:</strong> <span id="canonicalResult">Parameter Not Found</span></div>
            </div>

            <h4 class="sub-results-title">Open Graph & Social</h4>
            <div class="data-grid">
                <div class="data-item"><strong>OG Title:</strong> <span id="ogTitleResult">Parameter Not Found</span></div>
                <div class="data-item"><strong>Twitter Card:</strong> <span id="twitterCardResult">Parameter Not Found</span></div>
            </div>

            <h4 class="sub-results-title">SEO Recommendations</h4>
            <ul id="recommendations" class="rec-list" style="list-style: none; padding: 0;"></ul>

            <button onclick="downloadReport()" class="tool-btn-secondary" style="margin-top:20px;">Download SEO Audit (CSV)</button>
        </div>
    </div>
</main>

  <footer>
    <p>&copy; 2026 Toolshub123 | Built with ‚ù§Ô∏è by Ahsan</p>
     <p style="margin-top: 10px;">
      <a href="PrivacyPolicy.html">Privacy Policy</a> |
      <a href="about.html">About</a> |
      <a href="contact.html">Contact</a>
    </p>
  </footer>

 <script>
  // --- Dark Mode Logic ---
  const darkToggle = document.getElementById('dark-mode-toggle');
  const body = document.getElementById('page-body');
  if (localStorage.getItem('theme') === 'dark') { body.classList.add('dark-mode'); darkToggle.textContent = '‚òÄÔ∏è Light Mode'; }
  darkToggle.addEventListener('click', () => {
    body.classList.toggle('dark-mode');
    const isDark = body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    darkToggle.textContent = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
  });

  // --- Helper Functions ---
  function getPixelWidth(text, font = "18px Arial") {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    ctx.font = font;
    return ctx.measureText(text).width;
  }
  function set(id, val) { const el = document.getElementById(id); if (el) el.innerText = val; }
  function setHTML(id, html) { const el = document.getElementById(id); if (el) el.innerHTML = html; }

  function analyzeMetaTags() {
    const input = document.getElementById("htmlInput").value.trim();
    if (!input) { alert("Please paste HTML code first."); return; }
    
    const doc = new DOMParser().parseFromString(input, "text/html");
    const recs = [];
    const NOT_FOUND = "Parameter Not Found";

    // 1. DATA EXTRACTION
    const titleTag = doc.querySelector("title");
    const title = titleTag ? titleTag.innerText.trim() : null;

    const descTag = doc.querySelector("meta[name='description']");
    const description = descTag ? descTag.getAttribute("content").trim() : null;

    const h1Text = doc.querySelector("h1")?.innerText || "";
    const ogTitle = doc.querySelector("meta[property='og:title']")?.getAttribute("content") || NOT_FOUND;
    const twitterCard = doc.querySelector("meta[name='twitter:card']")?.getAttribute("content") || NOT_FOUND;
    const ogImage = doc.querySelector("meta[property='og:image']")?.getAttribute("content") || "";
    const twitterImage = doc.querySelector("meta[name='twitter:image']")?.getAttribute("content") || "";
    const canonical = doc.querySelector("link[rel='canonical']")?.getAttribute("href") || NOT_FOUND;

    // 2. PIXEL CALCULATIONS
    const titlePx = title ? getPixelWidth(title, "600 18px Arial") : 0;
    const descPx = description ? getPixelWidth(description, "400 14px Arial") : 0;
    
    // 3. SOCIAL IMAGE PREVIEW
    const previewImg = ogImage || twitterImage;
    if(previewImg) {
        setHTML("social-img-preview", `<h4>Social Sharing Thumbnail</h4><img src="${previewImg}" style="max-width:100%; max-height:250px; border-radius:8px; margin-top:10px; border:1px solid #ddd; display:block;">`);
    } else {
        setHTML("social-img-preview", `<p style="color:#ffa500; font-weight:600;">‚ö†Ô∏è Social Media Image: ${NOT_FOUND}</p>`);
    }

    // 4. RECOMMENDATIONS & VALIDATION
    if (title && h1Text !== "") {
        const titleWords = title.toLowerCase().split(/\s+/);
        const match = titleWords.some(word => word.length > 3 && h1Text.toLowerCase().includes(word));
        if (!match) recs.push({type: 'warn', msg: "‚ö†Ô∏è SEO Alert: Title and H1 do not share main keywords."});
    }

    if (!title) recs.push({type: 'err', msg: "‚ùå Missing Title Tag."});
    else if (titlePx > 600) recs.push({type: 'err', msg: `‚ùå Title is too wide for Google (${Math.round(titlePx)}px).`});

    if (!description) recs.push({type: 'err', msg: "‚ùå Missing Meta Description."});
    else if (descPx > 920) recs.push({type: 'warn', msg: `‚ö†Ô∏è Description is too wide for Google (${Math.round(descPx)}px).`});

    if (doc.querySelectorAll("h1").length === 0) recs.push({type: 'err', msg: "‚ùå H1 Tag Not Found: This is critical for indexing."});
    if (doc.querySelectorAll("h1").length > 1) recs.push({type: 'err', msg: "‚ùå Multiple H1 tags detected (SEO penalty)."});

    // 5. UPDATE UI (SEPARATED PIXELS & CHARACTER COUNTS)
    const titleColor = (titlePx > 0 && titlePx <= 600) ? '#00BFA6' : (titlePx > 600 ? '#ff4d4d' : '#888');
    const descColor = (descPx > 0 && descPx <= 920) ? '#00BFA6' : (descPx > 920 ? '#ffa500' : '#888');

    // Title Updates
    set("titleResult", title || NOT_FOUND);
    set("titleChars", title ? `${title.length} characters` : "0");
    setHTML("titlePixels", title ? `<span style="color:${titleColor}; font-weight:bold;">${Math.round(titlePx)}px ‚óè</span>` : "0px");

    // Description Updates
    set("descriptionResult", description || NOT_FOUND);
    set("descriptionChars", description ? `${description.length} characters` : "0");
    setHTML("descriptionPixels", description ? `<span style="color:${descColor}; font-weight:bold;">${Math.round(descPx)}px ‚óè</span>` : "0px");
    
    // Technical Stats
    set("ogTitleResult", ogTitle);
    set("twitterCardResult", twitterCard);
    set("canonicalResult", canonical);
    
    const dupeTitles = doc.querySelectorAll("title").length;
    const dupeDescs = doc.querySelectorAll("meta[name='description']").length;
    set("duplicateResult", (dupeTitles > 1 || dupeDescs > 1) ? "Yes (Action Required)" : "No");
    
    set("headingResult", `H1: ${doc.querySelectorAll("h1").length}, H2: ${doc.querySelectorAll("h2").length}`);
    
    // SERP Previews
    set("googleTitle", title || NOT_FOUND);
    set("googleDescription", description || NOT_FOUND);
    set("googleUrl", canonical === NOT_FOUND ? "https://example.com" : canonical);

    // Render Recommendations
    const recList = document.getElementById("recommendations");
    recList.innerHTML = "";
    if (recs.length === 0 && title) {
        recList.innerHTML = "<li style='color:#00BFA6;'>‚úÖ All technical meta parameters look perfect!</li>";
    } else {
        recs.forEach(r => {
          const li = document.createElement("li");
          li.innerText = r.msg;
          li.style.color = r.type === 'err' ? '#ff4d4d' : '#ffa500';
          li.style.fontWeight = '600';
          li.style.marginBottom = "8px";
          recList.appendChild(li);
        });
    }

    document.getElementById("results").style.display = "block";
    window.__metaReport = { 
        title: title || NOT_FOUND, 
        description: description || NOT_FOUND, 
        canonical: canonical,
        recommendations: recs.length > 0 ? recs.map(r => r.msg).join(" | ") : "None"
    };
  }

  function downloadReport() {
    const data = window.__metaReport;
    if (!data) return alert("Analyze a page first.");
    const csvContent = "data:text/csv;charset=utf-8,Field,Value\n" 
      + `Title,"${data.title}"\nDescription,"${data.description}"\nCanonical,"${data.canonical}"\nRecommendations,"${data.recommendations}"`;
    const encodedUri = encodeURI(csvContent);
    const link = document.createElement("a");
    link.setAttribute("href", encodedUri);
    link.setAttribute("download", "seo_audit_report.csv");
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
</script>
</body>
</html>

