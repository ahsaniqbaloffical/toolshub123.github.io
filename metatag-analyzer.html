<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meta Tag Analyzer | Toolshub123</title>
  <meta name="description" content="Analyze your website meta tags for SEO optimization. Check title, description, keywords, and more.">
  
  <link rel="stylesheet" href="meta-tag-tool.css">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="logo.png" type="image/png">
</head>
<body id="page-body">

  <header>
    <img src="logo.png" alt="Toolshub123 Logo" class="logo">
    <nav class="header-nav">
      <a href="index.html">Home</a>
      <a href="SEO%20tools.html" class="active">SEO Tools</a>
      <a href="finance%20tools.html">Finance Tools</a>
      <a href="utilitytools.html">Utility Tools</a>
      <a href="health%20tools.html">Health Tools</a>
      <button class="dark-mode-toggle" id="dark-mode-toggle">üåô Dark Mode</button>
    </nav>
  </header>

  <section class="seo-hero">
    <div class="hero-content">
      <h1>Meta Tag Analyzer</h1>
      <p>Check your website‚Äôs meta tags for SEO optimization. Instantly analyze titles, descriptions, and keywords.</p>
    </div>
  </section>

  <main class="seo-container">

    <div class="tool-card">
      <h2>Analyze Your Meta Tags</h2>
      <p style="margin-bottom: 20px;">Paste your HTML code below and click "Analyze" to extract and review meta tags.</p>

      <textarea id="htmlInput" placeholder="Paste your HTML code here..." class="tool-textarea"></textarea>

      <button onclick="analyzeMetaTags()" class="tool-btn-main">Analyze Tags</button>

      <div id="results" class="results-container" style="display:none;">
        <h3 class="results-title">Analysis Results</h3>

        <div class="serp-section">
          <h4>Search Engine Previews</h4>
          <div class="serp-preview google">
            <p id="googleTitle" class="serp-title">‚Äî</p>
            <p id="googleUrl" class="serp-url">‚Äî</p>
            <p id="googleDescription" class="serp-description">‚Äî</p>
          </div>
        </div>

        <div class="data-grid">
          <div class="data-item"><strong>Title:</strong> <span id="titleResult">‚Äî</span></div>
          <div class="data-item"><strong>Title Length:</strong> <span id="titleLength">‚Äî</span></div>
          <div class="data-item"><strong>Meta Description:</strong> <span id="descriptionResult">‚Äî</span></div>
          <div class="data-item"><strong>Description Length:</strong> <span id="descriptionLength">‚Äî</span></div>
          <div class="data-item"><strong>Duplicate Tags:</strong> <span id="duplicateResult">‚Äî</span></div>
          <div class="data-item"><strong>Heading Structure:</strong> <span id="headingResult">‚Äî</span></div>
        </div>

        <h4 class="sub-results-title">Open Graph & Social</h4>
        <div class="data-grid">
           <div class="data-item"><strong>OG Title:</strong> <span id="ogTitleResult">‚Äî</span></div>
           <div class="data-item"><strong>Twitter Card:</strong> <span id="twitterCardResult">‚Äî</span></div>
        </div>

        <h4 class="sub-results-title">Recommendations</h4>
        <ul id="recommendations" class="rec-list"></ul>

        <button onclick="downloadReport()" class="tool-btn-secondary">Download CSV Report</button>
      </div>
    </div>

    <div class="info-card">
      <h2>SEO Optimization Features</h2>
      <ul>
        <li><strong>SEO Essentials:</strong> Check title, meta description, and canonical tags.</li>
        <li><strong>Social Media:</strong> Analyze Open Graph and Twitter card tags.</li>
        <li><strong>Pixel Width:</strong> Measures title width to match Google's truncation standards.</li>
        <li><strong>Mobile Ready:</strong> Verify viewport and theme color settings.</li>
      </ul>
    </div>

    <div class="info-card">
      <h2>Frequently Asked Questions</h2>
      <div class="faq-item">
        <strong>Is this tool free?</strong>
        <p>Yes, it is 100% free and runs entirely in your browser.</p>
      </div>
      <div class="faq-item">
        <strong>Does it store my code?</strong>
        <p>No, we do not save or store any HTML code you paste here.</p>
      </div>
    </div>

  </main>

  <footer>
    <p>&copy; 2026 Toolshub123 | Built with ‚ù§Ô∏è by Ahsan</p>
    <p style="margin-top: 15px;">
      <a href="PrivacyPolicy.html">Privacy Policy</a> |
      <a href="about.html">About Us</a> |
      <a href="contact.html">Contact</a>
    </p>
  </footer>

  <script>
    // --- Dark Mode Logic ---
    const darkToggle = document.getElementById('dark-mode-toggle');
    const body = document.getElementById('page-body');
    if (localStorage.getItem('theme') === 'dark') { body.classList.add('dark-mode'); darkToggle.textContent = '‚òÄÔ∏è Light Mode'; }
    darkToggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      const isDark = body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      darkToggle.textContent = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
    });

    // --- YOUR ORIGINAL LOGIC (Unchanged) ---
    function getPixelWidth(text, font = "16px Arial") {
      const canvas = document.createElement("canvas");
      const ctx = canvas.getContext("2d");
      ctx.font = font;
      return ctx.measureText(text).width;
    }
    function set(id, val) { const el = document.getElementById(id); if (el) el.innerText = val; }
    function setHTML(id, html) { const el = document.getElementById(id); if (el) el.innerHTML = html; }

    function analyzeMetaTags() {
      const input = document.getElementById("htmlInput").value.trim();
      if (!input) { alert("Please paste HTML code first."); return; }
      const doc = new DOMParser().parseFromString(input, "text/html");

      const title = doc.querySelector("title")?.innerText || "Not found";
      const description = doc.querySelector("meta[name='description']")?.getAttribute("content") || "Not found";
      const robots = doc.querySelector("meta[name='robots']")?.getAttribute("content") || "Not found";
      const canonical = doc.querySelector("link[rel='canonical']")?.getAttribute("href") || "Not found";
      const viewport = doc.querySelector("meta[name='viewport']")?.getAttribute("content") || "Not found";
      
      const ogTitle = doc.querySelector("meta[property='og:title']")?.getAttribute("content") || "Not found";
      const twitterCard = doc.querySelector("meta[name='twitter:card']")?.getAttribute("content") || "Not found";

      const titleChars = title === "Not found" ? 0 : title.length;
      const descChars = description === "Not found" ? 0 : description.length;
      const titlePx = title === "Not found" ? 0 : getPixelWidth(title, "16px Arial");
      const descPx = description === "Not found" ? 0 : getPixelWidth(description, "13px Arial");

      const titleDotColor = titlePx === 0 ? "red" : (titlePx <= 600 ? "green" : (titlePx <= 650 ? "orange" : "red"));
      const descDotColor = descPx === 0 ? "red" : (descPx <= 920 ? "green" : (descPx <= 1000 ? "orange" : "red"));

      const h1 = doc.querySelectorAll("h1").length;
      const headingMsg = `H1: ${h1}, H2: ${doc.querySelectorAll("h2").length}`;

      set("titleResult", title);
      setHTML("titleLength", `${titleChars} chars (${Math.round(titlePx)}px) <span style="color:${titleDotColor};">‚óè</span>`);
      set("descriptionResult", description);
      setHTML("descriptionLength", `${descChars} chars (${Math.round(descPx)}px) <span style="color:${descDotColor};">‚óè</span>`);
      set("ogTitleResult", ogTitle);
      set("twitterCardResult", twitterCard);
      set("headingResult", headingMsg);
      set("duplicateResult", doc.querySelectorAll("title").length > 1 ? "Yes" : "No");

      set("googleTitle", title);
      set("googleUrl", canonical === "Not found" ? "https://example.com" : canonical);
      set("googleDescription", description);

      const recs = [];
      if (title === "Not found") recs.push("‚ùå No title tag found.");
      if (titlePx > 600) recs.push("‚ö†Ô∏è Title may be truncated in Google.");
      if (h1 === 0) recs.push("‚ùå No H1 tag found.");

      const recList = document.getElementById("recommendations");
      recList.innerHTML = "";
      recs.forEach(r => { const li = document.createElement("li"); li.innerText = r; recList.appendChild(li); });

      document.getElementById("results").style.display = "block";
      window.__metaReport = { title, description, recommendations: recs };
    }

    function downloadReport() {
      const data = window.__metaReport;
      if (!data) return alert("Analyze a page first.");
      const csv = `Field,Value\nTitle,"${data.title}"\nDescription,"${data.description}"`;
      const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
      const a = Object.assign(document.createElement("a"), { href: URL.createObjectURL(blob), download: "report.csv" });
      a.click();
    }
  </script>
</body>
</html>

